 <div class="block mapblock">
     <div class="modal-header" data-bind="css: {run : !dirty(), notrun: dirty() }" >
         <button type="button" class="close block-window-button" data-bind="click: remove">Ã—</button>
         <button type="button" class="close block-window-button" data-bind="click: maximize">O</button>
         <button type="button" class="close block-window-button" data-bind="click: minimize">-</button>
         <h4 data-bind="text: name"></h4>
     </div>
     <div class="modal-body" data-bind="visible: !minimized()">        

             
             <div class="mapcontainer" style="width:500px;height:400px";>
                 <div data-bind="attr: { 'id': mapOid }" class="map">
                 </div>
             </div>
             
             
            
                
           
                <div data-bind="attr: { 'id': popupSettingsId }">
                     <h4>Popup settings</h4>
                     <label>Text field for popup</label>
                     <input type="text" data-bind="value: inputObservables['popup_field']"/>
                </div>
                
                <div data-bind="attr: { 'id': markerSettingsId }">
                     <h4>Marker settings</h4>
                     <label class="radio">
                        <input type="radio" value="simple" data-bind="checked: markerType"/>
                         Simple marker
                    </label>
                    
                    <div data-bind="visible: markerType()=='simple'">
                       <label>fillColor</label>
                       <input type="text" data-bind="value: fillColor"/>
                       
                       <label>fillOpacity</label>
                       <input type="text" data-bind="value: fillOpacity"/>
                       
                       
                        <label>strokeColor</label>
                       <input type="text" data-bind="value: strokeColor"/>
                       
                       <label>strokeOpacity</label>
                       <input type="text" data-bind="value: strokeOpacity"/>
                       
                        <label>pointRadius</label>
                       <input type="text" data-bind="value: pointRadius"/>  
                    </div>
                      
                     
                     <label class="radio">
                        <input type="radio" value="icon" data-bind="checked: markerType"/>
                         Use icon
                    </label>
                    
                    <div data-bind="visible: markerType()=='icon'">
                       <label>Icon url</label>
                       <input type="text" data-bind="value: inputObservables['external_graphics']"/>
                    </div>
                
                </div>

          
            
             
             
             <!-- 
             <button data-bind="click: exportMap">export image</button>
             <canvas id="exportedImage" class="smallmap"></canvas> <br />
             -->
             
             <!--
             <div data-bind="foreach: results()">
         
                 <div data-bind="text: $root.fromjson($data)">
                 </div>
                 <hr/>
                 
             </div>
             -->
         
     </div>
     <div class="modal-footer">
        <button class="btn" data-bind="click: refresh">Refresh</button>
     </div>

 </div>
