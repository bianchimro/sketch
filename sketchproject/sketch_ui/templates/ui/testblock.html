{% extends "ui/base.html" %}

{% block extra_head %}
    <link rel="stylesheet" href="/static/ui/css/style.css"/>
{% endblock %}

 

{% block content_centered %}
   

    <div id="blocks-toolbar">
        <button class="btn" data-bind="click: addQuery">Q</Button>
        <button class="btn" data-bind="click: addList">L</Button>
        <button class="btn" data-bind="click: addItemList">ItemList</Button>
        
        <button class="btn" data-bind="click: addDbInfo">DB</Button>
        
    </div>
    <div id="blocks-canvas">
    </div>
    
    
{% endblock %}

{% block content_wide %}

      
{% endblock %}


{% block js_body %}
     <script src="http://code.jquery.com/ui/1.9.1/jquery-ui.js"></script>
     <script src="/static/sketch/js/sketch.js"></script>
     <script src="/static/ui/jsPlumb/jquery.jsPlumb-1.3.16-all-min.js"></script>     
     
     <script src="/static/sketch_ui/js/lib/jquery.tmpl.min.js"></script>
     <script src="/static/sketch_ui/js/lib/knockout-2.1.0.js"></script>
     <script src="/static/ui/js/ui-blocks.js"></script>
     <script>
     
        jsPlumb.ready(function(){
           jsPlumb.importDefaults({
    
                //ConnectorZIndex:5
	
            });
        
            
             jsPlumb.setRenderMode(jsPlumb.CANVAS);
            
            
            var ToolBar = function(){
            
                var self=this;
                self.addQuery = function(){
                    var qb = sketchui.register.addBlock(new sketchui.QueryBlock(), '#blocks-canvas');       
                };
                self.addList = function(){
                    var li = sketchui.register.addBlock(new sketchui.ListBlock(), '#blocks-canvas');
                };
                
                 self.addItemList = function(){
                    var db = sketchui.register.addBlock(new sketchui.ItemListBlock(), '#blocks-canvas');
                };
                
                self.addDbInfo = function(){
                    var db = sketchui.register.addBlock(new sketchui.DbInfoBlock(), '#blocks-canvas');
                };
            
            
            };
            var tb = new ToolBar();
            ko.applyBindings(tb, $("blocks-toolbar")[0]);
            
            
            
    });            
        
     </script>
     
    
{% endblock %}